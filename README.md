# FeedMePlz

FeedMePlz — сервис выбора блюд по меню дня.  
Главный сценарий: выбрать блюда -> при необходимости распределить по контейнерам -> скопировать готовый заказ в буфер обмена.

## Что уже реализовано

- Публичная страница меню дня (`/`): поиск, выбор блюд, количество, итоговая сумма.
- Сводка заказа с распределением по контейнерам (drag&drop).
- Кнопка `Копировать заказ` (финальная точка пользовательского сценария).
- Админка (`/login`, `/admin/*`) для управления каталогом блюд и меню дня.

## Технологии

- Frontend: ClojureScript + re-frame (`web_app/front`)
- Backend: Clojure + http-kit + reitit + Integrant (`web_app/back`)
- База данных: PostgreSQL (миграции Migratus)

## Быстрый старт (локальная разработка)

Требуется: Docker, Java, Clojure CLI, Node.js/npm.

1. Поднять PostgreSQL:

   ```bash
   make up
   ```

2. Запустить backend:

   ```bash
   make back-dev
   ```

   В открывшемся REPL:

   ```clojure
   (start)
   ;; опционально: создать администратора
   (create-admin! "admin" "admin@example.com" "secret")
   ```

3. Запустить frontend:

   ```bash
   cd web_app/front
   npm install
   API_URL=http://localhost:8088 make dev
   ```

4. Открыть:
   - UI: `http://localhost:8280`
   - API: `http://localhost:8088`
   - Swagger: `http://localhost:8088/api-docs/`

Остановить БД:

```bash
make down
```

## Проверка целевого сценария

1. Откройте `http://localhost:8280/`.
2. Добавьте блюда в заказ и выставьте количество.
3. При необходимости распределите позиции по контейнерам.
4. Нажмите `Копировать заказ`.
5. Вставьте текст заказа в чат/документ.

Если на главной странице отображается `Меню не найдено`, создайте меню на текущую дату через админку.
